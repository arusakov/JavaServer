package frontend;

import base.LongId;
import dbservice.DbServiceImpl;
import game.GameServiceImpl;
import game.GameSession;
import junit.framework.Assert;
import message.MessageSystemImpl;
import org.junit.Before;
import org.junit.Test;
import user.UserSession;
import user.UserState;

import java.io.IOException;

/**
 * Created with IntelliJ IDEA.
 * User: Alex
 * Date: 29.03.13
 * Time: 18:20
 * To change this template use File | Settings | File Templates.
 */
public class FrontendImplTest {

    /*
    MessageSystemImpl   msgSystem        =  new MessageSystemImpl();
    FrontendImpl        frontend         =  new FrontendImpl(msgSystem);
    //GameServiceImpl     gameService      =  new GameServiceImpl(msgSystem);
    DbServiceImpl       dbService        =  new DbServiceImpl(msgSystem);

    @Before
    public void start() throws IOException {

        (new Thread(frontend)).start();
        (new Thread(gameService)).start();
        (new Thread(dbService)).start();

    }


    @Test
    public void userEnterTest() throws IOException, InterruptedException {
        LongId<UserSession> sessionId1 = new LongId<UserSession>(1);
        LongId<UserSession> sessionId2 = new LongId<UserSession>(2);

        frontend.createNewUserSessionAndSendMessage(sessionId1,"User1");
        frontend.createNewUserSessionAndSendMessage(sessionId2,"User2");

         Thread.sleep(100);

        Assert.assertEquals(3,frontend.sessions.get(sessionId1).getUserId().get());

        frontend.startGame(sessionId1);
        Thread.sleep(100);
        Assert.assertEquals(frontend.sessions.get(sessionId1).getUserState(), UserState.Play);




                    */

    }


